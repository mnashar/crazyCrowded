!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.context=this.game.context,this.yOffset=-426,this.road=new Image,this.road.src="src/images/road_small.png"}var e,i,r;return e=t,(i=[{key:"update",value:function(){this.yOffset>=0&&(this.yOffset=-426),this.context.drawImage(this.road,0,this.yOffset),this.context.drawImage(this.road,0,this.yOffset+426),this.context.drawImage(this.road,0,this.yOffset+852),this.yOffset+=this.game.playerCar.speed/5}}])&&n(e.prototype,i),r&&n(e,r),t}();function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.context=this.game.context,this._positionX=292,this._positionY=280,this._speed=25,this.maxSpeed=120,this.car=new Image,this.car.src="src/images/Audi.png",this.length=110,this.width=42}var e,i,n;return e=t,(i=[{key:"moveLeft",value:function(){this._positionX-=20,this._positionX<=90&&(this._positionX=90)}},{key:"moveRight",value:function(){this._positionX+=20,this._positionX>=410&&(this._positionX=410)}},{key:"resetPosition",value:function(){this._positionX=292,this._positionY=280}},{key:"update",value:function(){this.context.drawImage(this.car,this._positionX,this._positionY,this.car.width/2,this.car.height/2)}},{key:"positionX",get:function(){return this._positionX}},{key:"positionY",get:function(){return this._positionY}},{key:"speed",set:function(t){t>=this.maxSpeed?this._speed=this.maxSpeed:this._speed=t<=25?25:t,document.querySelector(".speedo-meter .speed").innerHTML=this._speed},get:function(){return this._speed}}])&&a(e.prototype,i),n&&a(e,n),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.road=e.road,this.playerCar=e.playerCar,this.init()}var e,i,n;return e=t,(i=[{key:"init",value:function(){var t=this;document.addEventListener("keydown",(function(e){switch(e.keyCode){case 37:t.playerCar.moveLeft();break;case 38:t.game.paused||(t.playerCar.speed+=1);break;case 39:t.playerCar.moveRight();break;case 40:t.game.paused||(t.playerCar.speed-=5)}}))}}])&&s(e.prototype,i),n&&s(e,n),t}();function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.context=this.game.context,this.car=new Image,this.carNo=Math.round(7*Math.random())+1,this.car.src="src/images/car"+this.carNo+".png",this.positionY=-120,this.positionY=500*Math.random()*-1,this.speed=7*Math.random()+3,this.lane=Math.floor(4*Math.random()),this.lanePosX=[125,205,292,375],this.length=110,this.width=42}var e,i,n;return e=t,(i=[{key:"update",value:function(){this.positionY+=this.game.playerCar.speed/5+this.speed,this.context.drawImage(this.car,this.lanePosX[this.lane],this.positionY,this.car.width/2,this.car.height/2),this.positionY>=700&&this.game.trafficCar.splice(this.game.trafficCar.indexOf(this),1)}},{key:"positionX",get:function(){return this.lanePosX[this.lane]}}])&&u(e.prototype,i),n&&u(e,n),t}();function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.timeMeter=document.querySelector(".time-meter .time"),this.startTime=Date.now()}var e,i,n;return e=t,(i=[{key:"update",value:function(){this.updateTime()}},{key:"updateTime",value:function(){var t=Date.now()-this.startTime,e=new Date(t),i=e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours(),n=e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes(),r=e.getUTCSeconds()<10?"0"+e.getUTCSeconds():e.getUTCSeconds();this.milliseconds=e.getMilliseconds()<10?"0"+e.getMilliseconds():e.getMilliseconds();var a=Math.floor(this.milliseconds/100);this.timeMeter.innerHTML="".concat(i,":").concat(n,":").concat(r,":").concat(a)}}])&&f(e.prototype,i),n&&f(e,n),t}();function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=new(function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.road=new r(this),this.playerCar=new o(this),this.scoreboard=new l(this),this.paused=!1,this.CarController=new c(this),this.trafficCar=[],setInterval((function(){return i.populateTraffic()}),3e3),this.crash=new Audio("src/sounds/carCrash.mp3"),this.crash.autoplay=!1,this.crash.muted=!0}var e,i,n;return e=t,(i=[{key:"populateTraffic",value:function(){if(!this.paused){var t=new h(this);this.trafficCar.push(t)}}},{key:"tryAgain",value:function(t){13===t.keyCode&&(this.scoreboard.startTime=Date.now(),this.trafficCar=[],this.playerCar.resetPosition(),this.playerCar.speed=0,this.paused=!1,document.querySelector(".try-again").style.display="none",document.onkeydown=null)}},{key:"update",value:function(){var t=this;this.paused||(this.road.update(),this.playerCar.update(),this.scoreboard.update(),this.trafficCar.forEach((function(t){t.update()})),function(t,e){for(var i=0;i<e.length;i++){var n=e[i].positionX>=t.positionX&&e[i].positionX<=t.positionX+t.width,r=e[i].positionX+e[i].width>=t.positionX&&e[i].positionX+e[i].width<=t.positionX+t.width,a=e[i].positionY+e[i].length>=t.positionY&&e[i].positionY+e[i].length<=t.positionY+t.length;if((n||r)&&a)return!0}return!1}(this.playerCar,this.trafficCar)&&(this.paused=!0,this.crash.muted=!1,this.crash.play(),document.querySelector(".try-again").style.display="block",document.onkeydown=function(e){return t.tryAgain(e)}))}}])&&p(e.prototype,i),n&&p(e,n),t}())(document.querySelector("#canvas").getContext("2d"));requestAnimationFrame((function t(){d.update(),requestAnimationFrame(t)}))}]);
//# sourceMappingURL=main.js.map